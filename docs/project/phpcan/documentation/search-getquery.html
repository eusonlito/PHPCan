
<html>
	<head>
		
<title>getQuery() - Documentation - phpCan - I+D+C</title>

<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en" />

<!-- Site info -->
<meta name="author" content="A navalla suÃ­za - http://anavallasuiza.com" />
<meta name="description" content="">
<meta name="generator" content="phpCan 1.1b" />

<!-- Google Chrome Frame -->
<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1">

<!-- Mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="../../../favicon.ico.html">
<link rel="apple-touch-icon" href="../../../apple-touch-icon.png.html">

<!--[if lt IE 9]>
<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Css files -->
<link href="../../../common/csans/csans.css" type="text/css" rel="stylesheet" />
<link href="../../../web/templates/css/sh/shCoreDefault.css" type="text/css" rel="stylesheet" />
<link href="../../../scene/templates/css/$basic.css" type="text/css" rel="stylesheet" />
<link href="../../../scene/templates/css/$projects.css" type="text/css" rel="stylesheet" />

<!-- Javascript files -->
<script src="../../../common/jquery/jquery.min.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shCore.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushJScript.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushCss.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushPhp.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushXml.js" type="text/javascript"></script>
<script src="../../../web/templates/js/javascript.js" type="text/javascript"></script>
	</head>

	<body>
		
<div id="menu">
	<label>Go to project:
		<select onchange="document.location = this.value;">
			<option value="/project/ansslider/">$.ansSlider</option><option value="/project/jquerymedia/">$media</option><option value="/project/bookmarklets/">Bookmarklets</option><option value="/project/4ff844cd25f4b/">Cache</option><option value="/project/csans/">cSans</option><option value="/project/4ff845529bed9/">Imagecow</option><option value="/project/phpcan/" selected>phpCan</option><option value="/project/stylecow/">styleCow</option>		</select>
	</label>

	<h1 class="image idc"><a href="../../../apple-touch-icon.png.html">I+D+C - Investigamos, Desenvolvemos, Compartimos</a></h1>
</div>

<header>
		<figure>
		<a href="../index.html"><img src="../../../web/uploads/projects/icon/4db2fc93332486.65105404.png" alt="" /></a>	</figure>
	
	<hgroup>
		<h1 class="hidden-a11y"><a href="../index.html">phpCan</a></h1>		<h2>PHP 5 framework</h2>
	</hgroup>
</header>

<div class="clear">
		<nav class="project">
		<ul class="tabs">
			<li><a href="../index.html">Index</a></li><li class="selected"><a href="datetime/index.html">Documentation</a></li><li><a href="../examples/index.html">Examples</a></li><li><a href="../modules/index.html">Modules</a></li><li><a href="../changelog/index.html">Changelog</a></li>		</ul>
	</nav>


	<nav class="page">
		<ul><li><a href="starting-with-phpcan.html">Starting with phpCan</a><ul><li><a href="installation.html">Installation</a></li><li><a href="files-and-folders.html">Files and folders</a></li><li><a href="configuration.html">Configuration</a><ul><li><a href="configuration-actions.html">Actions</a></li><li><a href="configuration-data.html">Data</a></li><li><a href="configuration-databases.html">Databases</a></li><li><a href="configuration-exit-modes.html">Exit modes</a></li><li><a href="configuration-languages.html">Languages</a></li><li><a href="configuration-paths.html">Paths</a></li><li><a href="configuration-routes.html">Routes</a></li><li><a href="configuration-scenes.html">Scenes</a></li><li><a href="configuration-tables.html">Tables</a></li><li><a href="configuration-templates.html">Templates</a></li></ul></li><li><a href="data.html">Data</a><ul><li><a href="executing-data-inside-data.html">Executing data inside data</a></li><li><a href="loading-data-by-exit-mode.html">Loading data by exit mode</a></li></ul></li><li><a href="templates.html">Templates</a><ul><li><a href="loading-templates-by-exit-mode.html">Loading templates by exit mode</a></li><li><a href="reusing-templates.html">Reusing templates</a></li><li><a href="templates-inside-templates.html">Templates inside templates</a></li></ul></li><li><a href="actions.html">Actions</a><ul><li><a href="executing-actions.html">Executing actions</a></li><li><a href="executing-actions-manually.html">Executing actions manually</a></li><li><a href="getting-action-returns.html">Getting action returns</a></li></ul></li><li><a href="naming-conventions.html">Naming conventions</a></li></ul></li><li class="sub_selected"><a href="classes.html">Classes</a><ul><li><a href="class-acl.html">Acl</a><ul><li><a href="acl-check.html">check()</a></li><li><a href="acl-getallpermissions.html">getAllPermissions()</a></li><li><a href="acl-setpermission.html">setPermission()</a></li></ul></li><li><a href="class-api.html">Api</a><ul><li><a href="api-getjson.html">getJSON</a></li><li><a href="api-getxml.html">getXML()</a></li><li><a href="api-toarray.html">toArray()</a></li><li><a href="class-twitter.html">Twitter</a><ul><li><a href="twitter-autolinks.html">autoLinks()</a></li><li><a href="twitter-get.html">get()</a></li><li><a href="twitter-gethashtags.html">getHashTags()</a></li><li><a href="twitter-getusers.html">getUsers()</a></li><li><a href="twitter-search.html">search()</a></li></ul></li><li><a href="class-google.html">Google</a><ul><li><a href="google-search.html">search()</a></li></ul></li><li><a href="class-github.html">Github</a><ul><li><a href="github-get.html">get()</a></li></ul></li><li><a href="class-feed.html">Feed</a><ul><li><a href="feed-atomentries.html">atomEntries()</a></li><li><a href="feed-get.html">get()</a></li><li><a href="feed-rssentries.html">rssEntries()</a></li></ul></li></ul></li><li><a href="class-cache.html">Cache</a><ul><li><a href="cache-file.html">file()</a></li><li><a href="cache-filename.html">fileName()</a></li><li><a href="cache-load.html">load()</a></li><li><a href="cache-save.html">save()</a></li><li><a href="cache-setfolder.html">setFolder()</a></li></ul></li><li><a href="class-config.html">Config</a><ul><li><a href="config-load.html">load()</a></li></ul></li><li><a href="class-css.html">Css</a><ul><li><a href="css-get.html">get()</a></li><li><a href="css-load.html">load()</a></li><li><a href="css-setsettings.html">setSettings()</a></li><li><a href="css-show.html">show()</a></li><li><a href="css-showcached.html">showCached()</a></li></ul></li><li><a href="class-data.html">Data</a><ul><li><a href="data-afteraction.html">afterAction()</a></li><li><a href="data-arr.html">arr()</a></li><li><a href="data-execute.html">execute()</a></li><li><a href="data-file.html">file()</a></li><li><a href="data-get.html">get()</a></li><li><a href="data-getaction.html">getAction()</a></li><li><a href="data_set.html">set()</a></li></ul></li><li><a href="class-database.html">Database</a><ul><li><a href="database-affectedrows.html">affectedRows()</a></li><li><a href="database-connect.html">connect()</a></li><li><a href="database-connected.html">connected()</a></li><li><a href="database-delete.html">delete()</a></li><li><a href="database-escapestring.html">escapeString()</a></li><li><a href="database-getconnection.html">getConnection()</a></li><li><a href="database-insert.html">insert()</a></li><li><a href="database-lastid.html">lastId()</a></li><li><a href="database-query.html">query()</a></li><li><a href="database-queryregister.html">queryRegister()</a></li><li><a href="database-queryresult.html">queryResult()</a></li><li><a href="database-replace.html">replace()</a></li><li><a href="database-result.html">result()</a></li><li><a href="database-select.html">select()</a></li><li><a href="database-setconnection.html">setConnection()</a></li><li><a href="database-update.html">update()</a></li></ul></li><li><a href="class-datetime.html">Datetime</a><ul><li><a href="datetime-getmonth.html">getMonth()</a></li><li><a href="datetime-getweekday.html">getWeekDay()</a></li><li><a href="datetime-__format.html">__format()</a></li></ul></li><li><a href="class-db.html">Db</a><ul><li><a href="db-delete.html">delete()</a></li><li><a href="db-getdatabase.html">getDatabase()</a></li><li><a href="db-gettable.html">getTable()</a></li><li><a href="db-insert.html">insert()</a></li><li><a href="db-language.html">language()</a></li><li><a href="db-mergequery.html">mergeQuery()</a></li><li><a href="db-queryregister.html">queryRegister()</a></li><li><a href="db-relate.html">relate()</a></li><li><a href="db-save.html">save()</a></li><li><a href="db-select.html">select()</a></li><li><a href="db-selectcount.html">selectCount()</a></li><li><a href="db-selectids.html">selectIds()</a></li><li><a href="db-setdatabase.html">setDatabase()</a></li><li><a href="db-tablearray.html">tableArray()</a></li><li><a href="db-tableexists.html">tableExists()</a></li><li><a href="db-tablestring.html">tableString()</a></li><li><a href="db-unrelate.html">unrelate()</a></li><li><a href="db-update.html">update()</a></li><li><a href="db-updatedb.html">updateDB()</a></li></ul></li><li><a href="class-debug.html">Debug</a><ul><li><a href="debug-e.html">e()</a></li><li><a href="debug-error.html">error()</a></li><li><a href="debug-fatalerror.html">fatalError()</a></li><li><a href="debug-marktiming.html">markTiming()</a></li><li><a href="debug-pausetiming.html">pauseTiming()</a></li><li><a href="debug-playtiming.html">playTiming()</a></li><li><a href="debug-resettiming.html">resetTiming()</a></li><li><a href="debug-setsettings.html">setSettings()</a></li><li><a href="debug-showdata.html">showData()</a></li><li><a href="debug-showerrors.html">showErrors()</a></li><li><a href="debug-showtiming.html">showTiming()</a></li></ul></li><li><a href="class-errors.html">Errors</a><ul><li><a href="errors-clean.html">clean()</a></li><li><a href="errors-get.html">get()</a></li><li><a href="errors-getlist.html">getList()</a></li><li><a href="errors-set.html">set()</a></li></ul></li><li><a href="class-events.html">Events</a><ul><li><a href="events-bind.html">bind()</a></li><li><a href="events-defined.html">defined()</a></li><li><a href="events-trigger.html">trigger()</a></li><li><a href="events-unbind.html">unbind()</a></li></ul></li><li><a href="class-file.html">File</a><ul><li><a href="file-calculateextension.html">calculateExtension()</a></li><li><a href="file-getmimetype.html">getMimeType()</a></li><li><a href="file-makefolder.html">makeFolder()</a></li><li><a href="file-mergefolders.html">mergeFolders()</a></li><li><a href="file-savetext.html">saveText()</a></li><li><a href="file-setfolder.html">setFolder()</a></li><li><a href="file_save.html">save()</a></li></ul></li><li><a href="class-form.html">Form</a><ul><li><a href="form-button.html">button()</a></li><li><a href="form-checkbox.html">checkbox()</a></li><li><a href="form-color.html">color()</a></li><li><a href="form-date.html">date()</a></li><li><a href="form-datetime.html">datetime()</a></li><li><a href="form-datetimelocal.html">datetimelocal()</a></li><li><a href="form-email.html">email()</a></li><li><a href="form-file.html">file()</a></li><li><a href="form-hidden.html">hidden()</a></li><li><a href="form-hiddens.html">hiddens()</a></li><li><a href="form-month.html">month()</a></li><li><a href="form-number.html">number()</a></li><li><a href="form-password.html">password()</a></li><li><a href="form-radio.html">radio()</a></li><li><a href="form-range.html">range()</a></li><li><a href="form-reset.html">reset()</a></li><li><a href="form-search.html">search()</a></li><li><a href="form-select.html">select()</a></li><li><a href="form-submit.html">submit()</a></li><li><a href="form-tel.html">tel()</a></li><li><a href="form-text.html">text()</a></li><li><a href="form-textarea.html">textarea()</a></li><li><a href="form-time.html">time()</a></li><li><a href="form-url.html">url()</a></li><li><a href="form-week.html">week()</a></li></ul></li><li><a href="class-html.html">Html</a><ul><li><a href="html-a.html">a()</a></li><li><a href="html-alist.html">aList()</a></li><li><a href="html-csslink.html">cssLink()</a></li><li><a href="html-csslinks.html">cssLinks()</a></li><li><a href="html-dinamiccsslink.html">dinamicCssLink()</a></li><li><a href="html-each.html">each()</a></li><li><a href="html-escapeparams.html">escapeParams()</a></li><li><a href="html-flash.html">flash()</a></li><li><a href="html-img.html">img()</a></li><li><a href="html-imgsrc.html">imgSrc()</a></li><li><a href="html-jslink.html">jsLink()</a></li><li><a href="html-jslinks.html">jsLinks()</a></li><li><a href="html-once.html">once()</a></li><li><a href="html-params.html">params()</a></li><li><a href="html-time.html">time()</a></li><li><a href="html-ul.html">ul()</a></li></ul></li><li><a href="class-image.html">Image</a><ul><li><a href="image-convert.html">convert()</a></li><li><a href="image-crop.html">crop()</a></li><li><a href="image-flip.html">flip()</a></li><li><a href="image-flop.html">flop()</a></li><li><a href="image-get.html">get()</a></li><li><a href="image-load.html">load()</a></li><li><a href="image-merge.html">merge()</a></li><li><a href="image-resize.html">resize()</a></li><li><a href="image-rotate.html">rotate()</a></li><li><a href="image-save.html">save()</a></li><li><a href="image-set.html">set()</a></li><li><a href="image-setsettings.html">setSettings()</a></li><li><a href="image-show.html">show()</a></li><li><a href="image-showcached.html">showCached()</a></li><li><a href="image-transform.html">transform()</a></li><li><a href="image-unload.html">unload()</a></li><li><a href="image-zoomcrop.html">zoomCrop()</a></li></ul></li><li><a href="class-relations.html">Relations</a><ul><li><a href="relations-extend.html">extend()</a></li><li><a href="relations-relate.html">relate()</a></li><li><a href="relations-removedependent.html">removeDependent()</a></li><li><a href="relations-selectconditions.html">selectConditions()</a></li><li><a href="relations-unrelate.html">unrelate()</a></li><li><a href="relations-unrelatedependent.html">unrelateDependent()</a></li></ul></li><li class="sub_selected"><a href="class-search.html">Search</a><ul><li class="selected"><a href="search-getquery.html">getQuery()</a></li><li><a href="search-getstring.html">getString()</a></li><li><a href="search-setdb.html">setDb()</a></li></ul></li><li><a href="class-session.html">Session</a><ul><li><a href="session-add.html">add()</a></li><li><a href="session-load.html">load()</a></li><li><a href="session-logged.html">logged()</a></li><li><a href="session-login.html">login()</a></li><li><a href="session-logout.html">logout()</a></li><li><a href="session-setsettings.html">setSettings()</a></li><li><a href="session-user.html">user()</a></li></ul></li><li><a href="class-shell.html">Shell</a><ul><li><a href="shell-cd.html">cd()</a></li><li><a href="shell-commandexists.html">commandExists()</a></li><li><a href="shell-commandregister.html">commandRegister()</a></li><li><a href="shell-exec.html">exec()</a></li></ul></li><li><a href="class-table.html">Table</a><ul><li><a href="table-checkvalues.html">checkValues()</a></li><li><a href="table-explodedata.html">explodeData()</a></li><li><a href="table-fieldarray.html">fieldArray()</a></li><li><a href="table-fieldinfo.html">fieldInfo()</a></li><li><a href="table-fieldstring.html">fieldString()</a></li><li><a href="table-getdefaultvalues.html">getDefaultValues()</a></li><li><a href="table-getformat.html">getFormat()</a></li><li><a href="table-getformatsettings.html">getFormatSettings()</a></li><li><a href="table-getrelation.html">getRelation()</a></li><li><a href="table-getrelations.html">getRelations()</a></li><li><a href="table-implodedata.html">implodeData()</a></li><li><a href="table-related.html">related()</a></li><li><a href="table-selectfield.html">selectField()</a></li><li><a href="table-selectfields.html">selectFields()</a></li><li><a href="table-setformatsettings.html">setFormatSettings()</a></li><li><a href="table-valuedb.html">valueDB()</a></li></ul></li><li><a href="class-templates.html">Templates</a><ul><li><a href="templates-add.html">add()</a></li><li><a href="templates-exists.html">exists()</a></li><li><a href="templates-file.html">file()</a></li><li><a href="templates-remove.html">remove()</a></li><li><a href="templates-render.html">render()</a></li></ul></li><li><a href="class-vars.html">Vars</a><ul><li><a href="vars-actions.html">actions()</a></li><li><a href="vars-arr.html">arr()</a></li><li><a href="vars-bool.html">bool()</a></li><li><a href="vars-delete.html">delete()</a></li><li><a href="vars-deletecookie.html">deleteCookie()</a></li><li><a href="vars-detectexitmode.html">detectExitMode()</a></li><li><a href="vars-detectlanguage.html">detectLanguage()</a></li><li><a href="vars-detectmodule.html">detectModule()</a></li><li><a href="vars-detectroute.html">detectRoute()</a></li><li><a href="vars-detectscene.html">detectScene()</a></li><li><a href="vars-exists.html">exists()</a></li><li><a href="vars-get.html">get()</a></li><li><a href="vars-getbrowserlanguages.html">getBrowserLanguages()</a></li><li><a href="vars-getcookie.html">getCookie()</a></li><li><a href="vars-getexitmode.html">getExitMode()</a></li><li><a href="vars-getexitmodeconfig.html">getExitModeConfig()</a></li><li><a href="vars-getgetvars.html">getGetVars()</a></li><li><a href="vars-getlanguage.html">getLanguage()</a></li><li><a href="vars-getlanguages.html">getLanguages()</a></li><li><a href="vars-getmodule.html">getModule()</a></li><li><a href="vars-getmoduleconfig.html">getModuleConfig()</a></li><li><a href="vars-getpath.html">getPath()</a></li><li><a href="vars-getroute.html">getRoute()</a></li><li><a href="vars-getscene.html">getScene()</a></li><li><a href="vars-getsceneconfig.html">getSceneConfig()</a></li><li><a href="vars-int.html">int()</a></li><li><a href="vars-is.html">is()</a></li><li><a href="vars-isbool.html">isBool()</a></li><li><a href="vars-isemail.html">isEmail()</a></li><li><a href="vars-isfloat.html">isFloat()</a></li><li><a href="vars-isint.html">isInt()</a></li><li><a href="vars-isurl.html">isUrl()</a></li><li><a href="vars-load.html">load()</a></li><li><a href="vars-loadmessage.html">loadMessage()</a></li><li><a href="vars-message.html">message()</a></li><li><a href="vars-messageexists.html">messageExists()</a></li><li><a href="vars-messagetype.html">messageType()</a></li><li><a href="vars-set.html">set()</a></li><li><a href="vars-setcookie.html">setCookie()</a></li><li><a href="vars-setexitmodesconfig.html">setExitModesConfig()</a></li><li><a href="vars-setlanguagesconfig.html">setLanguagesConfig()</a></li><li><a href="vars-setroutesconfig.html">setRoutesConfig()</a></li><li><a href="vars-setscenesconfig.html">setScenesConfig</a></li><li><a href="vars-str.html">str()</a></li></ul></li></ul></li><li><a href="basic-functions.html">Basic functions</a><ul><li><a href="alphanumeric.html">alphaNumeric()</a></li><li><a href="arraykeyvalues.html">arrayKeyValues()</a></li><li><a href="arraymergereplacerecursive.html">arrayMergeReplaceRecursive()</a></li><li><a href="arraymergereplacerecursivestrict.html">arrayMergeReplaceRecursiveStrict()</a></li><li><a href="decrypt.html">decrypt()</a></li><li><a href="encodeascii.html">encodeAscii()</a></li><li><a href="encrypt.html">encrypt()</a></li><li><a href="explodetrim.html">explodeTrim()</a></li><li><a href="filepath.html">filePath()</a></li><li><a href="fileweb.html">fileWeb()</a></li><li><a href="fixpath.html">fixPath()</a></li><li><a href="get.html">get()</a></li><li><a href="getdatabaseobject.html">getDatabaseObject()</a></li><li><a href="getdatetimeobject.html">getDatetimeObject()</a></li><li><a href="getgettextobject.html">getGettextObject()</a></li><li><a href="getimageobject.html">getImageObject()</a></li><li><a href="hastext.html">hasText()</a></li><li><a href="host.html">host()</a></li><li><a href="includefile.html">includeFile()</a></li><li><a href="ip.html">ip()</a></li><li><a href="ismultidimensionalarray.html">isMultidimensionalArray()</a></li><li><a href="isnumericalarray.html">isNumericalArray()</a></li><li><a href="path.html">path()</a></li><li><a href="redirect.html">redirect()</a></li><li><a href="textcutter.html">textCutter()</a></li><li><a href="urlinfo.html">urlInfo()</a></li><li><a href="__.html">__()</a></li><li><a href="__e.html">__e()</a></li></ul></li><li><a href="formats.html">Formats</a><ul><li><a href="format-functions.html">Format functions</a><ul><li><a href="format-bindevent.html">bindEvent()</a></li><li><a href="format-check.html">check()</a></li><li><a href="format-explodedata.html">explodeData()</a></li><li><a href="format-getdefaultvalues.html">getDefaultValues()</a></li><li><a href="format-geterrors.html">getErrors()</a></li><li><a href="format-getfield.html">getField()</a></li><li><a href="format-getfields.html">getFields()</a></li><li><a href="format-settings.html">settings()</a></li><li><a href="format-valuedb.html">valueDB()</a></li><li><a href="format-valueform.html">valueForm()</a></li><li><a href="format-valuehtml.html">valueHtml()</a></li></ul></li><li><a href="format-types.html">Format types</a><ul><li><a href="format-boolean.html">Boolean</a></li><li><a href="format-date.html">Date</a></li><li><a href="format-datetime.html">Datetime</a></li><li><a href="format-email.html">Email</a></li><li><a href="format-enum.html">Enum</a></li><li><a href="format-file.html">File</a></li><li><a href="format-float.html">Float</a></li><li><a href="format-gmaps.html">Gmaps</a></li><li><a href="format-html.html">Html</a></li><li><a href="format-id.html">Id</a></li><li><a href="format-id_relation.html">Id_relation</a></li><li><a href="format-id_text.html">Id_text</a></li><li><a href="format-image.html">Image</a></li><li><a href="format-integer.html">Integer</a></li><li><a href="format-ip.html">Ip</a></li><li><a href="format-password.html">Password</a></li><li><a href="format-sort.html">Sort</a></li><li><a href="format-text.html">Text</a></li><li><a href="format-title.html">Title</a></li><li><a href="format-url.html">Url</a></li><li><a href="format-varchar.html">Varchar</a></li></ul></li></ul></li></ul>	</nav>


	
	<article class="text"><hgroup>
	<h1>Search::getQuery()</h1>
	<small>phpCan 1.0</small>
</hgroup>

<section class="description">
	<h1>Description</h1>
	<p>Return a query array to use in the data object. Returns false if there was any error.</p>
	<p class="syntax"><strong>Search::getQuery</strong> (array $settings)</p>

	<dl>
		<dt>settings (array)</dt>
		<dd>Array with the settings of the search.</dd>
	</dl>
</section>

<h2>How this function works?</h2>
<p>This function returns an array with the query of any search, so you can modify the query before execute it. The function analyzes each word individually, building a query to find registers containing all specified words. You can also search for a term between quotes, so all term will be treated as an unique word. For example, if you search the term My Name is Earl the returned query will search for the registers with the words "My", "Name", "is" and "Earl" but if you search by "My Name is Earl", the query will search for the registers with these exact term, and if you search by "My Name" is Earl, the query will search by the words "My Name", "Is" and "Earl". You have to specify the settings of the searching, that are the following:</p>

<dl>
	<dt>min_length</dt>
	<dd>The minimun length of the words. By default is "3", so if you search My Name is Earl, the function only will search by the words "Name" and "Earl".</dd>
	
	<dt>errors</dt>
	<dd>The name you want use to save the searching errors. By default is "search"</dd>
	
	<dt>text</dt>
	<dd>The text you want to search</dd>
	
	<dt>where</dt>
	<dd>An array with the tables and fields where you want to search the text. You can specify related tables with the "add_tables" parameter</dd>
	
	<dt>operators</dt>
	<dd>The operators you want to be available in the search. By default is empty. You can specify an array of operators or "all" to make all operators available.</dd>
</dl>

<h2>The operators</h2>
<p>The operators are a set of commands that you can use in the text to manipulate the searching query. For example, you can use an operator to search a text only in a specific field, or search registers which start/ends/contains a specific term in some field. By default, the operators are disabled, and you can enable them with the parameter "operators". If you want enable all operators, set "operators" as "all" and if you want enable just some operators, specify an array with its keys. The available operators are following:</p>
<dl>
	<dt>= (equal)</dt>
	<dd>Search for the registers which the value of some of its fields is exactly the specified text. For example: name=Berto or city="Santiago de Compostela"</dd>
	
	<dt>: (contains)</dt>
	<dd>Search for the registers which the value of some of its fields contains the specified text. For example: name:berto or city:santiago</dd>
	
	<dt>^= (starts by)</dt>
	<dd>Search for the registers which the value of some of its fields starts by the specified text. For example: name^=b (search by the registers whose name starts by the letter "b")</dd>
	
	<dt>$= (ends by)</dt>
	<dd>Search for the registers which the value of some of its fields ends by the specified text. For example: name$=o (search by the registers whose name ends by the letter "o")</dd>
	
	<dt>!= (not equal)</dt>
	<dd>Search for the registers which the value of some of its fields isn't equal to the specified text. For example: name!=berto (search by the registers whose name is not "berto")</dd>
	
	<dt>!: (not contains)</dt>
	<dd>Search for the registers which the value of some of its fields doesn't contains the specified text. For example: name!:o (search by the registers whose name doesn't contain the letter "o")</dd>
	
	<dt>&gt; (bigger)</dt>
	<dd>Search for the registers which the value of some of its fields is bigger than the specified text. For example: age&gt;34 (search by the registers whose age is bigger than 34)</dd>
	
	<dt>&lt; (lower)</dt>
	<dd>Search for registers which the value of some of its fields is lower than the specified text. For example: age&lt;34 (search by the registers whose age is lower than 34)</dd>
	
	<dt>&gt;= (bigger or equal)</dt>
	<dd>Search for registers which the value of some of its fields is bigger or equal than the specified text. For example: age&gt;=34 (search by the registers whose age is 34 or more)</dd>
	
	<dt>&lt;= (lower or equal)</dt>
	<dd>Search for registers which the value of some of its fields is lower or equal than the specified text. For example: age&lt;=34 (search by the registers whose age is 34 or lower)</dd>
</dl>

<h2>The "where" parameter</h2>
<p>The "where" parameter defines where search the specified text. This is an array with the key "table" with the name of the table, "fields" with the name of the fields and "add_tables" with the related tables where to search. You can specify the parameter "on_demand" in each table as false, to restrict the search in this table just for operators. For example, if you have the table "users" and the table "cities", if the user search for "francisco", this function will search for this word in the specified fields of users and cities, but if you set the parameter "on_demand" of the table "cities" as false, the searching only will search in the table "users" and only will search on cities with operators (city:francisco)</p>

<section class="example">
	<h1>Simple searching</h1>
<pre class="brush: php;">$Search = new \data\Search($Data);

//We can get the searching text variable
$text = $Vars->get('q');

//Searching for articles
$query = $Search->getQuery(array(
	'text' => $text,
	'where' => array(
		'table' => 'articles',
		'fields' => '*'
	)
));

//Select the matched articles
$result = $Data->select($query);
</pre>

<h1>Searching in various tables</h1>
<pre class="brush: php;">//Searching for articles, its authors name and locations
$query = $Search->getQuery(array(
	'text' => $text,
	'where' => array(
		'table' => 'articles',
		'fields' => '*',
		'add_tables' => array(
			array(
				'table' => 'authors',
				'fields' => 'name'
			),
			array(
				'table' => 'cities',
				'fields' => 'city'
			)
		)
	)
));
</pre>

<h1>Using operators</h1>
<pre class="brush: php;">//Searching for articles, its authors name and locations enabled the operators ":" and "=".
$query = $Search->getQuery(array(
	'text' => $text,
	'operators' => array(':', '='),
	'where' => array(
		'table' => 'articles',
		'fields' => '*',
		'add_tables' => array(
			array(
				'table' => 'authors',
				'fields' => 'name'
			),
			array(
				'table' => 'cities',
				'fields' => 'city'
			)
		)
	)
));
</pre>
<p>In this example, we can search using the operators ":" and "=" putting the field name before, the operator and the text at last, for example: title="The web 3.0". The field name mustn't be repeated, so if it happens, you can change its key.</p>

<h1>Using operators and changin the fields keys</h1>
<pre class="brush: php;">//Searching for articles, its authors name and locations enabled the operators ":" and "=".
$query = $Search->getQuery(array(
	'text' => $text,
	'operators' => array(':', '='),
	'where' => array(
		'table' => 'articles',
		'fields' => array(
			'title' => 'title-title',
			'text' => 'body'
		),
		'add_tables' => array(
			array(
				'table' => 'authors',
				'fields' => array(
					'author' => 'name'
				)
			),
			array(
				'table' => 'cities',
				'fields' => array(
					'located' => 'city'
				)
			)
		)
	)
));
</pre>
<p>In this example, if the search string is author=berto, the query will search for articles which the field "name" of the table "authors" is "berto".</p>
</section></article>

	<a href="http://code.google.com/p/phpcan/" class="image google">Checkout in Google Code</a></div>
		<footer>
			<a href="http://anavallasuiza.com" class="image">A navalla suÃ­za</a><br>

			<p>(CC) 2012 A navalla suÃ­za. All the code published at <a href="../../../apple-touch-icon.png.html" title="I+D+C - A navalla suÃ­za">I+D+C</a> is distributed under the terms of either the <a href="../../../web/uploads/MIT-LICENSE.txt">MIT License</a> or the <a href="../../../web/uploads/GPL-LICENSE.txt">GNU General Public License (GPL) Version 3</a></p>

			<p>Text is available under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribution-ShareAlike 3.0">Creative Commons Attribution/Share-Alike License</a>. Additional terms may apply.</p>
		</footer>

		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-10480211-12']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</body>
</html>