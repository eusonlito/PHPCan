
<html>
	<head>
		
<title>Blog templates - Examples - phpCan - I+D+C</title>

<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-Language" content="en" />

<!-- Site info -->
<meta name="author" content="A navalla suíza - http://anavallasuiza.com" />
<meta name="description" content="">
<meta name="generator" content="phpCan 1.1b" />

<!-- Google Chrome Frame -->
<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1">

<!-- Mobile devices -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Favicon -->
<link rel="shortcut icon" href="../../../favicon.ico.html">
<link rel="apple-touch-icon" href="../../../apple-touch-icon.png.html">

<!--[if lt IE 9]>
<script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->

<!-- Css files -->
<link href="../../../common/csans/csans.css" type="text/css" rel="stylesheet" />
<link href="../../../web/templates/css/sh/shCoreDefault.css" type="text/css" rel="stylesheet" />
<link href="../../../scene/templates/css/$basic.css" type="text/css" rel="stylesheet" />
<link href="../../../scene/templates/css/$projects.css" type="text/css" rel="stylesheet" />

<!-- Javascript files -->
<script src="../../../common/jquery/jquery.min.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shCore.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushJScript.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushCss.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushPhp.js" type="text/javascript"></script>
<script src="../../../web/templates/js/sh/shBrushXml.js" type="text/javascript"></script>
<script src="../../../web/templates/js/javascript.js" type="text/javascript"></script>
	</head>

	<body>
		
<div id="menu">
	<label>Go to project:
		<select onchange="document.location = this.value;">
			<option value="/project/ansslider/">$.ansSlider</option><option value="/project/jquerymedia/">$media</option><option value="/project/bookmarklets/">Bookmarklets</option><option value="/project/4ff844cd25f4b/">Cache</option><option value="/project/csans/">cSans</option><option value="/project/4ff845529bed9/">Imagecow</option><option value="/project/phpcan/" selected>phpCan</option><option value="/project/stylecow/">styleCow</option>		</select>
	</label>

	<h1 class="image idc"><a href="../../../apple-touch-icon.png.html">I+D+C - Investigamos, Desenvolvemos, Compartimos</a></h1>
</div>

<header>
		<figure>
		<a href="../index.html"><img src="../../../web/uploads/projects/icon/4db2fc93332486.65105404.png" alt="" /></a>	</figure>
	
	<hgroup>
		<h1 class="hidden-a11y"><a href="../index.html">phpCan</a></h1>		<h2>PHP 5 framework</h2>
	</hgroup>
</header>

<div class="clear">
		<nav class="project">
		<ul class="tabs">
			<li><a href="../index.html">Index</a></li><li><a href="../documentation/datetime/index.html">Documentation</a></li><li class="selected"><a href="index.html">Examples</a></li><li><a href="../modules/index.html">Modules</a></li><li><a href="../changelog/index.html">Changelog</a></li>		</ul>
	</nav>


	<nav class="page">
		<ul><li><a href="static-html-site.html">Static html site</a><ul><li><a href="starting.html">Starting</a></li><li><a href="routes-configuration.html">Routes configuration</a></li><li><a href="creating-templates.html">Creating templates</a></li><li><a href="the-styles.html">The styles</a></li></ul></li><li class="sub_selected"><a href="creating-a-blog.html">Creating a blog</a><ul><li><a href="configurating-the-database.html">Configurating the database</a></li><li><a href="the-routes-for-the-blog.html">The routes for the blog</a></li><li><a href="the-data-files.html">The data files</a></li><li class="selected"><a href="blog-templates.html">Blog templates</a></li><li><a href="forms-and-actions.html">Forms and actions</a></li></ul></li></ul>	</nav>


	
	<article class="text"><hgroup>
	<h1>Blog templates</h1>
</hgroup>

<p>The first template we have to configurate is the base template. Because this template is the same in all pages we can define it in the "*" route. This template loads the subtemplates for the "index", "tag", "category" and "post" pages. As "index", "tag" and "category" are very similar pages so we can create just one template for use in them.</p>
</section>

<section class="example">
<pre class="brush: php; auto-links: false">$config['routes'] = array(
	'*' => array(
		'templates' => array('base' => 'html.php')
	),
	'index' => array(
		'data' => 'post-list.php',
		'templates' => array('content' => 'content-post-list.php')
	),
	'tag/$tag_id' => array(
		'data' => 'post-list.php',
		'templates' => array('content' => 'content-post-list.php')
	),
	'category/$category_id' => array(
		'data' => 'post-list.php',
		'templates' => array('content' => 'content-post-list.php')
	),
	'post/$post_id' => array(
		'data' => 'post-details.php',
		'templates' => array('content' => 'content-post-details.php')
	),

	'undefined' => array()
);
</pre>
</section>

<h2>Creating the base template files</h2>
<p>The base template contents the root of the html and loads the subtemplates. This is an example of base template:</p>

<section class="examples">
<pre class="brush: php; auto-links: false">&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Demo blog&lt;/title&gt;
	&lt;/head&gt;

	&lt;body&gt;
		&lt;h1&gt;&lt;?php echo $Html-&gt;a(&#x27;This is my blog&#x27;, path(&#x27;&#x27;)); ?&gt;&lt;/h1&gt;

		&lt;div class=&quot;content&quot;&gt;
			&lt;?php include($Templates-&gt;file(&#x27;content&#x27;)); ?&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;
</pre>
<p>In the template we insert a link using the function "$Html->a". The function "path" returns any path of our site and the empy param returns the path to index. Then, we include the "content" template in the body.</p>
</section>

<h2>Creating the posts list template</h2>
<p>The best way to create a list of posts is creating a template which prints an unique post and render it using an array with all posts.</p>

<section class="example">
	<p>Create a template which prints an unique post and name it, for example, "post.php":</p>
<pre class="brush: php; auto-links: false">&lt;article class=&quot;post&quot;&gt;
	&lt;h1&gt;&lt;?php echo $Html-&gt;a($title[&#x27;title&#x27;], path(&#x27;post&#x27;, $title[&#x27;url&#x27;])); ?&gt;&lt;/h1&gt;

	&lt;?php echo $Html-&gt;time($published); ?&gt;

	&lt;nav&gt;
		Saved in &lt;?php echo $Html-&gt;aList(array(
			'data' => $categories,
			'format' => 'name',
			'href' => path('category')
		)); ?&gt;&lt;br&gt;
		Tagged as &lt;?php echo $Html-&gt;aList(array(
			'data' => $tags,
			'format' => 'name',
			'href' => path('tag')
		)); ?&gt;
	&lt;/nav&gt;
&lt;/article&gt;
</pre>
<p>In this template we have an h1 with a link. The link goes to "post/" + the url of the title. Then we have inserted a "time" element with the function Html::time. Finally we use the categories and tags arrays to insert a list of comma-separated links due the Html::aList function.</p>
<p>When the template for the unique post is created, we can use it to print the list of posts. We just have to add the array of posts in the parent template, called "content-post-list.php".</p>

<pre class="brush: php; auto-links: false">&lt;h2&gt;List of my posts&lt;/h2&gt;

&lt;?php $Templates-&gt;render(&#x27;post.php&#x27;, $posts); ?&gt;
</pre>
</section>

<h2>Creating the permalink template</h2>
<p>The permalink template can use the same template than the list of posts. It depends of the design of your site. Let's modify the "post.php" template to show the body of the post if exists:</p>

<section class="example">
	<p>Create a template which prints an unique post and name it, for example, "post.php":</p>
<pre class="brush: php; auto-links: false">&lt;article class=&quot;post&quot;&gt;
	&lt;h1&gt;&lt;?php echo $Html-&gt;a($title[&#x27;title&#x27;], path(&#x27;post&#x27;, $title[&#x27;url&#x27;])); ?&gt;&lt;/h1&gt;

	&lt;?php echo $Html-&gt;time($published); ?&gt;
	
	&lt;nav&gt;
		Saved in &lt;?php echo $Html-&gt;aList(array(
			'data' => $categories,
			'format' => 'name',
			'href' => path('category')
		)); ?&gt;&lt;br&gt;
		Tagged as &lt;?php echo $Html-&gt;aList(array(
			'data' => $tags,
			'format' => 'name',
			'href' => path('tag')
		)); ?&gt;
	&lt;/nav&gt;

	&lt;?php if (isset($body)): ?&gt;
	&lt;div class=&quot;body&quot;&gt;
		&lt;?php echo $body; ?&gt;
	&lt;/div&gt;
	&lt;?php endif; ?&gt;
&lt;/article&gt;
</pre>

<p>We can create an individual template to display one comment:</p>
<pre class="brush: php; auto-links: false">&lt;article class=&quot;comment&quot;&gt;
	&lt;p class=&quot;details&quot;&gt;
		by &lt;strong&gt;&lt;?php echo $name; ?&gt;&lt;/strong&gt;&lt;br&gt;
		&lt;?php echo $Html-&gt;time($published); ?&gt;
	&lt;/p&gt;

	&lt;div class=&quot;text&quot;&gt;
		&lt;?php echo $text; ?&gt;
	&lt;/div&gt;
&lt;/article&gt;
</pre>

<p>And insert this template in the "post.php" template</p>
<pre class="brush: php; auto-links: false">&lt;article class=&quot;post&quot;&gt;
	&lt;h1&gt;&lt;?php echo $Html-&gt;a($title[&#x27;title&#x27;], path(&#x27;post&#x27;, $title[&#x27;url&#x27;])); ?&gt;&lt;/h1&gt;

	&lt;?php echo $Html-&gt;time($published); ?&gt;

	&lt;nav&gt;
		Saved in &lt;?php echo $Html-&gt;aList(array(
			'data' => $categories,
			'format' => 'name',
			'href' => path('category')
		)); ?&gt;&lt;br&gt;
		Tagged as &lt;?php echo $Html-&gt;aList(array(
			'data' => $tags,
			'format' => 'name',
			'href' => path('tag')
		)); ?&gt;
	&lt;/nav&gt;
	
	&lt;?php if (isset($body)): ?&gt;
	&lt;div class=&quot;body&quot;&gt;
		&lt;?php echo $body; ?&gt;
	&lt;/div&gt;
	&lt;?php endif; ?&gt;
	
	&lt;?php if (isset($comments)): ?&gt;
	&lt;div class=&quot;comments&quot;&gt;
		&lt;?php $Templates-&gt;render(&#x27;comment.php&#x27;, $comments); ?&gt;
	&lt;/div&gt;
	&lt;?php endif;?&gt;
&lt;/article&gt;
</pre>
</section></article>

	<a href="http://code.google.com/p/phpcan/" class="image google">Checkout in Google Code</a></div>
		<footer>
			<a href="http://anavallasuiza.com" class="image">A navalla suíza</a><br>

			<p>(CC) 2012 A navalla suíza. All the code published at <a href="../../../apple-touch-icon.png.html" title="I+D+C - A navalla suíza">I+D+C</a> is distributed under the terms of either the <a href="../../../web/uploads/MIT-LICENSE.txt">MIT License</a> or the <a href="../../../web/uploads/GPL-LICENSE.txt">GNU General Public License (GPL) Version 3</a></p>

			<p>Text is available under the <a href="http://creativecommons.org/licenses/by-sa/3.0/" title="Creative Commons Attribution-ShareAlike 3.0">Creative Commons Attribution/Share-Alike License</a>. Additional terms may apply.</p>
		</footer>

		<script type="text/javascript">
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-10480211-12']);
			_gaq.push(['_trackPageview']);

			(function() {
				var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
			})();
		</script>
	</body>
</html>